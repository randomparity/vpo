# Simple HEVC Transcoding Policy (V12)
# Minimal single-phase policy for video transcoding
schema_version: 12
name: Simple HEVC Transcode
description: Single-phase HEVC transcoding capped at 1080p with sensible defaults.

config:
  on_error: skip

phases:
  - name: compress
    transcode:
      video:
        target_codec: hevc
        skip_if:
          codec_matches: [hevc, h265]
          resolution_within: 1080p
          bitrate_under: 15M
        quality:
          mode: crf
          crf: 20
          preset: medium
        scaling:
          max_resolution: 1080p
          algorithm: lanczos
      audio:
        preserve_codecs: [truehd, dts-hd, flac]
        transcode_to: aac
        transcode_bitrate: 192k
