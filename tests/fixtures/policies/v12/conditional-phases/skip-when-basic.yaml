# Test policy for skip_when condition evaluation
# T002: Skip condition test policy
schema_version: 12

config:
  audio_language_preference: [eng, und]
  subtitle_language_preference: [eng, und]
  on_error: continue

phases:
  - name: normalize
    container:
      target: mkv
    audio_filter:
      languages: [eng, und]

  - name: transcode
    skip_when:
      video_codec: [hevc, h265]
    transcode:
      video:
        target_codec: hevc
        quality:
          mode: crf
          crf: 20

  - name: compress-small
    skip_when:
      file_size_under: 1GB
    transcode:
      video:
        target_codec: hevc
        quality:
          mode: crf
          crf: 25
